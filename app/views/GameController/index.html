#{extends 'main.html' /}
#{set title:'Tic Tac Toe' /}
<script type="text/javascript">
	var moveUrl = '@{makeMove(game.id)}';
</script>

<a href="@{GameController.newGame()}">Create new game</a>
<table class="tictac#{if !util.TicTacToeAI.isStillPlaying(game.state)} done#{/if}">
#{list [0,1,2], as:'y'}
	<tr>
	#{list [0,1,2], as:'x'}
		<td data-x="${x}" data-y="${y}" class="${game.state[y][x]}"></td>
	#{/list}
	</tr>
#{/list}
</table>

<div id="log">
	<ul>
		<li>There have been ${game.moves.size()} moves</li>
	#{list game.moves, as:'move'}
		<li>${move}</li>
	#{/list}
	</ul>
</div>

#{script 'tictactoe.js' /}