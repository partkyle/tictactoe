#{extends 'main.html' /}

<h1>${user.username}'s profile</h1>
<h3>Member since ${user.createdOn.since()}</h3>

<table>
	<tr>
		<th colspan="2">Record</th>
	<tr>
#{list user.record, as:'r'}
	<tr>
		<td>${r.key}</td>
		<td>${r.value.size()}</td>
	</tr>
#{/list}
	<tr>
		<td>Total</td>
		<td>${user.games.size()}</td>
	<tr>
</table>

<img src="http://chart.apis.google.com/chart?chs=300x100&chd=t:${user.recordValues.join(',')}&cht=p3&chl=${user.recordKeys.join('|')}" />

#{if user.games.size() > 0}
<h3>List of Games</h3>
<ul>
	#{list user.games, as:'game'}
	    <li><a href="@{GameController.show(game.id)}">${game}</a></li>
	#{/list}
</ul>
#{/if}